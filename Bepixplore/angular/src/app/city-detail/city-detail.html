<div class="container city-detail-page">
  
  <div class="city-header">
    <div class="header-row">
      <h1 class="city-name">{{ city?.name | uppercase }}</h1>

      <button class="btn btn-pill action-btn"
              [class.btn-danger]="isFavorite"
              [class.btn-primary]="!isFavorite"
              (click)="toggleFavorite()"
              [disabled]="isLoading"
              title="Guardar en favoritos">
        @if (isFavorite) {
          <span><i class="fa fa-heart-broken me-2"></i> Eliminar de Mis Destinos</span>
        } @else {
          <span><i class="fa fa-heart me-2"></i> Agregar a Mis Destinos</span>
        }
      </button>
    </div>

    <p class="city-meta">
      <i class="fa fa-globe me-2"></i> {{ city?.country }}
      <span class="mx-2">•</span>
      <i class="fa fa-users me-2"></i> Población: {{ city?.population | number }}
    </p>

    <button (click)="goBack()" class="btn btn-outline-secondary">
      ⬅ Volver
    </button>
  </div>

  <div class="content-wrapper">
    
    <div class="global-card border-0 shadow-sm rounded-lg mb-5 p-4 bg-white">
      <h3 class="fw-bold text-warning mb-4">
        <i class="fa fa-star me-2"></i> Calificaciones de la Comunidad
      </h3>
      <app-ratings [destinationId]="city?.id"></app-ratings>
    </div>

    <hr class="section-divider">

    <div class="global-card border-0 shadow-sm rounded-lg p-4 bg-white">
      <h3 class="fw-bold text-primary mb-4">
        <i class="fa fa-comments me-2"></i> Historias de Viajeros
      </h3>
      <app-travel-experience [destinationId]="city?.id"></app-travel-experience>
    </div>

  </div>
</div>